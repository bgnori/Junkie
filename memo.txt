

project name junkie
廃人

Goal
 非同期書き込み非同期読み込み、重複contentなしのtumblr client


作る話:
 pythonを使う
 なんでもいいのだがプラットフォームを選ぶのは嫌だ。
  Qt, wxpython とかか？

 - Downloading PyQt-x11-gpl-4.8.6.tar.gz (9.7Mb): 9.7Mb downloaded
  packagingがおかしくてinstallに失敗する。

 - wxpythonをyumでinstall してwx htmlとか



同期でsingle windowのclientを試作する。


pumblrはいいのかもしれないが、非同期じゃない。
modelの部分を作るためにtubmrl apiを理解する上で読むのはおおいにあり。
=> かなりシンプル。


http://www.tumblr.com/docs/en/api
http://lxml.de/xpathxslt.html

xmlを連結し、styleを入れてブラウザでレンダリングというモデルにするのか,
それとも
postごとにレンダリングしてpaneとみなすべきなのか。


renderするときに使うデータをprefetchすればいい。
別processにする？fetcherともいうべきかな
ローカルのファイルもしくはメモリで保持。
 方針：
  - requestに充分先行してfetchをかける。
  - requestしたときに手元にないものは諦める。

 - requestしたものが使えるようになるまでの時間を記録して予測に使えるようにすべきだろう。
  ざっくりと見た感じでは、
   xx.media.tumblrは速い。1s以内 i.e. 25.media.tumblr.com => akamai.
   www.tumblr.com/photo...は遅い。 => 本家
  とりあえず3秒前に読み込め。

twitterのpicsはa hrefで参照されているがこれも解決してembedするほうがよいだろう。
-> そういうことはいっぱいあるのではないか？

htmlのsubsetだが相当「方言」になるなぁ。mark upとして整ってもいないだろう。


fetchするときのUAとかAcceptとか・・・まああとでいいでしょう。


postのidでpostをdictにほうりこんで管理。
time-stampでも管理したい。(シーケンシャルな取得)
 heapqにするか？


Junkie's Guideにいれること。
http://www.kurihama-alcoholism-center.jp/tiar/

/home/nori/Desktop/work/tumblr/model.py:38: FutureWarning: The behavior of
this method will change in future versions. Use specific 'len(elem)' or 'elem
is not None' test instead.
  if qs:




